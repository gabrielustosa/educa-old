<div>
    <div>
        <h5>{{ question.title }}</h5>
        <p>
            {{ question.user.get_full_name }} -
            Aula "{{ question.lesson.title }}" -
            {{ question.updated }}
        </p>
        <p>{{ question.content }}</p>
    </div>
    {% include 'hx/question/answer.html' %}
</div>

{% block javascript %}
    <script>
        document.getElementById('send').addEventListener('click', () => {
            let question_id = "{{ question.id }}"
            let form = document.querySelector('#answer-question')
            let inputs = form.querySelectorAll('input, textarea')
            let values = {}
            inputs.forEach(input => {
                values[input.name] = input.value
            })
            htmx.ajax('POST', `/course/question/answer/${question_id}/`, {
                target: '#answers',
                values: values
            })
        })
    </script>
{% endblock %}