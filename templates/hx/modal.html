<div class="my-modal-container" id="modal_container">
    <div class="my-modal">
        <div class="d-flex position-relative">
            <h1 class="pb-2">{{ title }}</h1>
            <button id="close" type="button"
                    class="btn-close position-absolute top-0 start-100 translate-middle"></button>
        </div>
        <div>
            {{ content }}
            {% if confirm %}
                {% csrf_token %}
                <div class="pt-3">
                    <button id="confirm" class="btn btn-danger">Confirmar</button>
                </div>
            {% endif %}
        </div>
    </div>
</div>

{% block javascript %}
    {% if answer %}
        <script>
            {
                let confirm = document.querySelector('#confirm')
                confirm.addEventListener('click', () => {
                    let answer_id = "{{ answer.id }}"
                    htmx.ajax('POST', `/course/answer/delete/${answer_id}/`, {
                        target: '#answers'
                    })
                    const modal = document.getElementById('modal_container');
                    modal.classList.remove('show');
                })
            }
        </script>
    {% endif %}
    {% if question %}
        <script>
            {
                let confirm = document.querySelector('#confirm')
                confirm.addEventListener('click', () => {
                    let question_id = "{{ question.id }}"
                    htmx.ajax('POST', `/course/question/delete/${question_id}/`, {
                        target: '#question'
                    })
                    const modal = document.getElementById('modal_container');
                    modal.classList.remove('show');
                })
            }
        </script>
    {% endif %}
{% endblock %}
